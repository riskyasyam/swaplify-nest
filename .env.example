# App Configuration
PORT=3000
NODE_ENV=development
COOKIE_SECRET=your-secure-cookie-secret-here
TZ=Asia/Jakarta

# Frontend URL for auth redirects
FRONTEND_URL=http://localhost:3001

# Database Configuration
DATABASE_URL="postgresql://username:password@localhost:5432/database_name?schema=public"

# --- PrimeAuth Configuration ---
PRIMEAUTH_AUTH_SERVICE_URL=https://api.primeauth.meetaza.com/auth
PRIMEAUTH_REALM_SERVICE_URL=https://api.primeauth.meetaza.com/auth
REALM_ID=your-realm-id-here

# JWT Secret untuk HS256 validation (kosongkan untuk menggunakan RS256)
# PRIMEAUTH_JWT_SECRET=your_jwt_secret_here

# JWKS URI untuk RS256 validation
PRIMEAUTH_JWKS_URI=https://api.primeauth.meetaza.com/auth/realms/YOUR_REALM_ID/protocol/openid-connect/certs

# --- OAuth2 Client Configuration ---
CLIENT_ID=your-client-id
CLIENT_SECRET=your-client-secret
REDIRECT_URI=http://localhost:3000/auth/callback

# IMPORTANT: For manual login (password grant), ensure your PrimeAuth realm 
# has "Direct Grant (Resource Owner Password Credentials Grant)" enabled
# in Realm Settings > Login tab

# --- Manual endpoints (tanpa discovery) ---
PRIMEAUTH_ISSUER=${PRIMEAUTH_AUTH_SERVICE_URL}/realms/${REALM_ID}
PRIMEAUTH_AUTH_URL=${PRIMEAUTH_AUTH_SERVICE_URL}/realms/${REALM_ID}/protocol/openid-connect/auth
PRIMEAUTH_TOKEN_URL=${PRIMEAUTH_AUTH_SERVICE_URL}/realms/${REALM_ID}/protocol/openid-connect/token
PRIMEAUTH_USERINFO_URL=${PRIMEAUTH_AUTH_SERVICE_URL}/realms/${REALM_ID}/protocol/openid-connect/userinfo
PRIMEAUTH_JWKS_URI=${PRIMEAUTH_AUTH_SERVICE_URL}/realms/${REALM_ID}/protocol/openid-connect/certs
IDENTITY_SERVICE_URL=https://api.primeauth.meetaza.com/identity
PLACEHOLDER_EMAIL_DOMAIN=no-email.local
DEBUG_AUTH=1

# (Optional) Audience API kalau diperlukan verifikasi aud
API_AUDIENCE=swaplify-api

# S3 / MinIO Configuration
S3_ENDPOINT=http://localhost:9000
S3_REGION=us-east-1
S3_ACCESS_KEY=your-minio-access-key
S3_SECRET_KEY=your-minio-secret-key
S3_INPUT_BUCKET=facefusion-input
S3_OUTPUT_BUCKET=facefusion-output
S3_FORCE_PATH_STYLE=true

# NSQ Configuration
NSQ_HOST=127.0.0.1
NSQ_HTTP_PORT=4151
NSQ_TCP_PORT=4150
NSQ_TOPIC=facefusion_jobs

# Worker Configuration
WORKER_BASE_URL=http://127.0.0.1:8081
WORKER_SHARED_SECRET=your-worker-shared-secret
FACEFUSION_WORKER_URL=http://127.0.0.1:8081/worker/facefusion

# Internal API Secret (for queue service and internal endpoints)
INTERNAL_SECRET=your-internal-secret

# Admin Configuration
# daftar email admin, koma-separated
ADMIN_EMAILS=admin@yourdomain.com,cto@yourdomain.com
# opsional: jadikan semua user dengan domain ini jadi admin
ADMIN_EMAIL_DOMAIN=yourdomain.com

# FaceFusion Integration
USE_REAL_FACEFUSION=true
